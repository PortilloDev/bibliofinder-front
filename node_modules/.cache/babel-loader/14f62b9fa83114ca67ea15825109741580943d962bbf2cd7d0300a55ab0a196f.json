{"ast":null,"code":"var _jsxFileName = \"/Applications/Projects/bibliofinder-front/src/components/auth/GoogleAuthButton.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Button } from '../ui/button';\nimport { Alert, AlertDescription } from '../ui/alert';\nimport { Loader2, AlertCircle } from 'lucide-react';\nimport authService from '../../services/AuthService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GoogleAuthButton = ({\n  mode = 'login',\n  // 'login', 'register', 'link'\n  onSuccess,\n  onError,\n  disabled = false,\n  className = \"\",\n  size = \"default\"\n}) => {\n  _s();\n  const {\n    t\n  } = useTranslation();\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  // Load Google Identity Services\n  useEffect(() => {\n    const loadGoogleScript = () => {\n      var _window$google;\n      if ((_window$google = window.google) !== null && _window$google !== void 0 && _window$google.accounts) return;\n      const script = document.createElement('script');\n      script.src = 'https://accounts.google.com/gsi/client';\n      script.async = true;\n      script.defer = true;\n      document.head.appendChild(script);\n    };\n    loadGoogleScript();\n  }, []);\n  const getButtonText = () => {\n    if (isLoading) {\n      switch (mode) {\n        case 'link':\n          return t('auth.google.linking', 'Linking...');\n        case 'register':\n          return t('auth.google.signingUp', 'Signing up...');\n        case 'login':\n        default:\n          return t('auth.google.signingIn', 'Signing in...');\n      }\n    }\n    switch (mode) {\n      case 'link':\n        return t('auth.google.linkAccount', 'Link Google Account');\n      case 'register':\n        return t('auth.google.signUpWith', 'Sign up with Google');\n      case 'login':\n      default:\n        return t('auth.google.signInWith', 'Sign in with Google');\n    }\n  };\n  const handleGoogleAuth = async () => {\n    var _window$google2;\n    if (!((_window$google2 = window.google) !== null && _window$google2 !== void 0 && _window$google2.accounts)) {\n      setError(t('auth.google.notLoaded', 'Google authentication is not available'));\n      return;\n    }\n    setIsLoading(true);\n    setError(null);\n    try {\n      // Method 1: Use Google Identity Services with popup\n      window.google.accounts.id.initialize({\n        client_id: process.env.REACT_APP_GOOGLE_CLIENT_ID || 'your-google-client-id',\n        callback: handleGoogleCallback,\n        auto_select: false,\n        cancel_on_tap_outside: true\n      });\n\n      // Trigger Google Sign-In\n      window.google.accounts.id.prompt(notification => {\n        if (notification.isNotDisplayed() || notification.isSkippedMoment()) {\n          // Fallback to popup\n          window.google.accounts.oauth2.initTokenClient({\n            client_id: process.env.REACT_APP_GOOGLE_CLIENT_ID || 'your-google-client-id',\n            scope: 'openid email profile',\n            callback: handleGoogleTokenCallback\n          }).requestAccessToken();\n        }\n      });\n    } catch (error) {\n      console.error('Google Auth Error:', error);\n      setError(error.message);\n      setIsLoading(false);\n      if (onError) onError(error);\n    }\n  };\n  const handleGoogleCallback = async response => {\n    try {\n      let result;\n      switch (mode) {\n        case 'link':\n          result = await authService.linkGoogleAccount(response.credential);\n          break;\n        case 'register':\n        case 'login':\n        default:\n          result = await authService.loginWithGoogle(response.credential);\n          break;\n      }\n      if (result.success) {\n        if (onSuccess) onSuccess(result);\n      } else {\n        setError(result.error);\n        if (onError) onError(new Error(result.error));\n      }\n    } catch (error) {\n      console.error('Google callback error:', error);\n      setError(error.message);\n      if (onError) onError(error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleGoogleTokenCallback = async response => {\n    if (response.error) {\n      setError(response.error_description || 'Google authentication failed');\n      setIsLoading(false);\n      return;\n    }\n    try {\n      let result;\n      switch (mode) {\n        case 'link':\n          result = await authService.linkGoogleAccount(response.access_token);\n          break;\n        case 'register':\n        case 'login':\n        default:\n          result = await authService.loginWithGoogle(response.access_token);\n          break;\n      }\n      if (result.success) {\n        if (onSuccess) onSuccess(result);\n      } else {\n        setError(result.error);\n        if (onError) onError(new Error(result.error));\n      }\n    } catch (error) {\n      console.error('Google token callback error:', error);\n      setError(error.message);\n      if (onError) onError(error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Alternative method using redirect flow\n  const handleGoogleRedirect = async () => {\n    setIsLoading(true);\n    setError(null);\n    try {\n      const result = await authService.getGoogleAuthUrl();\n      if (result.success) {\n        // Store current mode in session storage for callback handling\n        sessionStorage.setItem('google_auth_mode', mode);\n        window.location.href = result.url;\n      } else {\n        setError(result.error);\n        setIsLoading(false);\n        if (onError) onError(new Error(result.error));\n      }\n    } catch (error) {\n      console.error('Google redirect error:', error);\n      setError(error.message);\n      setIsLoading(false);\n      if (onError) onError(error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      variant: \"outline\",\n      className: `w-full ${className}`,\n      onClick: handleGoogleAuth,\n      disabled: disabled || isLoading,\n      size: size,\n      children: [isLoading ? /*#__PURE__*/_jsxDEV(Loader2, {\n        className: \"mr-2 h-4 w-4 animate-spin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n        className: \"mr-2 h-4 w-4\",\n        viewBox: \"0 0 24 24\",\n        children: [/*#__PURE__*/_jsxDEV(\"path\", {\n          fill: \"currentColor\",\n          d: \"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n          fill: \"currentColor\",\n          d: \"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n          fill: \"currentColor\",\n          d: \"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n          fill: \"currentColor\",\n          d: \"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 11\n      }, this), getButtonText()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      variant: \"destructive\",\n      children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n        className: \"h-4 w-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(AlertDescription, {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 9\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"link\",\n        size: \"sm\",\n        onClick: handleGoogleRedirect,\n        disabled: isLoading,\n        children: t('auth.google.tryRedirect', 'Try redirect method')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 189,\n    columnNumber: 5\n  }, this);\n};\n_s(GoogleAuthButton, \"8B/2op9VrLmRHURzQRHgjtXCV1A=\", false, function () {\n  return [useTranslation];\n});\n_c = GoogleAuthButton;\nexport default GoogleAuthButton;\nvar _c;\n$RefreshReg$(_c, \"GoogleAuthButton\");","map":{"version":3,"names":["React","useState","useEffect","useTranslation","Button","Alert","AlertDescription","Loader2","AlertCircle","authService","jsxDEV","_jsxDEV","GoogleAuthButton","mode","onSuccess","onError","disabled","className","size","_s","t","isLoading","setIsLoading","error","setError","loadGoogleScript","_window$google","window","google","accounts","script","document","createElement","src","async","defer","head","appendChild","getButtonText","handleGoogleAuth","_window$google2","id","initialize","client_id","process","env","REACT_APP_GOOGLE_CLIENT_ID","callback","handleGoogleCallback","auto_select","cancel_on_tap_outside","prompt","notification","isNotDisplayed","isSkippedMoment","oauth2","initTokenClient","scope","handleGoogleTokenCallback","requestAccessToken","console","message","response","result","linkGoogleAccount","credential","loginWithGoogle","success","Error","error_description","access_token","handleGoogleRedirect","getGoogleAuthUrl","sessionStorage","setItem","location","href","url","children","variant","onClick","fileName","_jsxFileName","lineNumber","columnNumber","viewBox","fill","d","_c","$RefreshReg$"],"sources":["/Applications/Projects/bibliofinder-front/src/components/auth/GoogleAuthButton.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Button } from '../ui/button';\nimport { Alert, AlertDescription } from '../ui/alert';\nimport { Loader2, AlertCircle } from 'lucide-react';\nimport authService from '../../services/AuthService';\n\nconst GoogleAuthButton = ({ \n  mode = 'login', // 'login', 'register', 'link'\n  onSuccess, \n  onError,\n  disabled = false,\n  className = \"\",\n  size = \"default\"\n}) => {\n  const { t } = useTranslation();\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  // Load Google Identity Services\n  useEffect(() => {\n    const loadGoogleScript = () => {\n      if (window.google?.accounts) return;\n\n      const script = document.createElement('script');\n      script.src = 'https://accounts.google.com/gsi/client';\n      script.async = true;\n      script.defer = true;\n      document.head.appendChild(script);\n    };\n\n    loadGoogleScript();\n  }, []);\n\n  const getButtonText = () => {\n    if (isLoading) {\n      switch (mode) {\n        case 'link':\n          return t('auth.google.linking', 'Linking...');\n        case 'register':\n          return t('auth.google.signingUp', 'Signing up...');\n        case 'login':\n        default:\n          return t('auth.google.signingIn', 'Signing in...');\n      }\n    }\n\n    switch (mode) {\n      case 'link':\n        return t('auth.google.linkAccount', 'Link Google Account');\n      case 'register':\n        return t('auth.google.signUpWith', 'Sign up with Google');\n      case 'login':\n      default:\n        return t('auth.google.signInWith', 'Sign in with Google');\n    }\n  };\n\n  const handleGoogleAuth = async () => {\n    if (!window.google?.accounts) {\n      setError(t('auth.google.notLoaded', 'Google authentication is not available'));\n      return;\n    }\n\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      // Method 1: Use Google Identity Services with popup\n      window.google.accounts.id.initialize({\n        client_id: process.env.REACT_APP_GOOGLE_CLIENT_ID || 'your-google-client-id',\n        callback: handleGoogleCallback,\n        auto_select: false,\n        cancel_on_tap_outside: true\n      });\n\n      // Trigger Google Sign-In\n      window.google.accounts.id.prompt((notification) => {\n        if (notification.isNotDisplayed() || notification.isSkippedMoment()) {\n          // Fallback to popup\n          window.google.accounts.oauth2.initTokenClient({\n            client_id: process.env.REACT_APP_GOOGLE_CLIENT_ID || 'your-google-client-id',\n            scope: 'openid email profile',\n            callback: handleGoogleTokenCallback\n          }).requestAccessToken();\n        }\n      });\n\n    } catch (error) {\n      console.error('Google Auth Error:', error);\n      setError(error.message);\n      setIsLoading(false);\n      if (onError) onError(error);\n    }\n  };\n\n  const handleGoogleCallback = async (response) => {\n    try {\n      let result;\n\n      switch (mode) {\n        case 'link':\n          result = await authService.linkGoogleAccount(response.credential);\n          break;\n        case 'register':\n        case 'login':\n        default:\n          result = await authService.loginWithGoogle(response.credential);\n          break;\n      }\n\n      if (result.success) {\n        if (onSuccess) onSuccess(result);\n      } else {\n        setError(result.error);\n        if (onError) onError(new Error(result.error));\n      }\n    } catch (error) {\n      console.error('Google callback error:', error);\n      setError(error.message);\n      if (onError) onError(error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleGoogleTokenCallback = async (response) => {\n    if (response.error) {\n      setError(response.error_description || 'Google authentication failed');\n      setIsLoading(false);\n      return;\n    }\n\n    try {\n      let result;\n\n      switch (mode) {\n        case 'link':\n          result = await authService.linkGoogleAccount(response.access_token);\n          break;\n        case 'register':\n        case 'login':\n        default:\n          result = await authService.loginWithGoogle(response.access_token);\n          break;\n      }\n\n      if (result.success) {\n        if (onSuccess) onSuccess(result);\n      } else {\n        setError(result.error);\n        if (onError) onError(new Error(result.error));\n      }\n    } catch (error) {\n      console.error('Google token callback error:', error);\n      setError(error.message);\n      if (onError) onError(error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Alternative method using redirect flow\n  const handleGoogleRedirect = async () => {\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      const result = await authService.getGoogleAuthUrl();\n      \n      if (result.success) {\n        // Store current mode in session storage for callback handling\n        sessionStorage.setItem('google_auth_mode', mode);\n        window.location.href = result.url;\n      } else {\n        setError(result.error);\n        setIsLoading(false);\n        if (onError) onError(new Error(result.error));\n      }\n    } catch (error) {\n      console.error('Google redirect error:', error);\n      setError(error.message);\n      setIsLoading(false);\n      if (onError) onError(error);\n    }\n  };\n\n  return (\n    <div className=\"space-y-4\">\n      <Button\n        variant=\"outline\"\n        className={`w-full ${className}`}\n        onClick={handleGoogleAuth}\n        disabled={disabled || isLoading}\n        size={size}\n      >\n        {isLoading ? (\n          <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n        ) : (\n          <svg className=\"mr-2 h-4 w-4\" viewBox=\"0 0 24 24\">\n            <path\n              fill=\"currentColor\"\n              d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"\n            />\n            <path\n              fill=\"currentColor\"\n              d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"\n            />\n            <path\n              fill=\"currentColor\"\n              d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"\n            />\n            <path\n              fill=\"currentColor\"\n              d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"\n            />\n          </svg>\n        )}\n        {getButtonText()}\n      </Button>\n\n      {error && (\n        <Alert variant=\"destructive\">\n          <AlertCircle className=\"h-4 w-4\" />\n          <AlertDescription>{error}</AlertDescription>\n        </Alert>\n      )}\n\n      {/* Fallback to redirect method if popup fails */}\n      {error && (\n        <div className=\"text-center\">\n          <Button \n            variant=\"link\" \n            size=\"sm\" \n            onClick={handleGoogleRedirect}\n            disabled={isLoading}\n          >\n            {t('auth.google.tryRedirect', 'Try redirect method')}\n          </Button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default GoogleAuthButton;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,cAAc,QAAQ,eAAe;AAC9C,SAASC,MAAM,QAAQ,cAAc;AACrC,SAASC,KAAK,EAAEC,gBAAgB,QAAQ,aAAa;AACrD,SAASC,OAAO,EAAEC,WAAW,QAAQ,cAAc;AACnD,OAAOC,WAAW,MAAM,4BAA4B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAErD,MAAMC,gBAAgB,GAAGA,CAAC;EACxBC,IAAI,GAAG,OAAO;EAAE;EAChBC,SAAS;EACTC,OAAO;EACPC,QAAQ,GAAG,KAAK;EAChBC,SAAS,GAAG,EAAE;EACdC,IAAI,GAAG;AACT,CAAC,KAAK;EAAAC,EAAA;EACJ,MAAM;IAAEC;EAAE,CAAC,GAAGjB,cAAc,CAAC,CAAC;EAC9B,MAAM,CAACkB,SAAS,EAAEC,YAAY,CAAC,GAAGrB,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACsB,KAAK,EAAEC,QAAQ,CAAC,GAAGvB,QAAQ,CAAC,IAAI,CAAC;;EAExC;EACAC,SAAS,CAAC,MAAM;IACd,MAAMuB,gBAAgB,GAAGA,CAAA,KAAM;MAAA,IAAAC,cAAA;MAC7B,KAAAA,cAAA,GAAIC,MAAM,CAACC,MAAM,cAAAF,cAAA,eAAbA,cAAA,CAAeG,QAAQ,EAAE;MAE7B,MAAMC,MAAM,GAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;MAC/CF,MAAM,CAACG,GAAG,GAAG,wCAAwC;MACrDH,MAAM,CAACI,KAAK,GAAG,IAAI;MACnBJ,MAAM,CAACK,KAAK,GAAG,IAAI;MACnBJ,QAAQ,CAACK,IAAI,CAACC,WAAW,CAACP,MAAM,CAAC;IACnC,CAAC;IAEDL,gBAAgB,CAAC,CAAC;EACpB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMa,aAAa,GAAGA,CAAA,KAAM;IAC1B,IAAIjB,SAAS,EAAE;MACb,QAAQR,IAAI;QACV,KAAK,MAAM;UACT,OAAOO,CAAC,CAAC,qBAAqB,EAAE,YAAY,CAAC;QAC/C,KAAK,UAAU;UACb,OAAOA,CAAC,CAAC,uBAAuB,EAAE,eAAe,CAAC;QACpD,KAAK,OAAO;QACZ;UACE,OAAOA,CAAC,CAAC,uBAAuB,EAAE,eAAe,CAAC;MACtD;IACF;IAEA,QAAQP,IAAI;MACV,KAAK,MAAM;QACT,OAAOO,CAAC,CAAC,yBAAyB,EAAE,qBAAqB,CAAC;MAC5D,KAAK,UAAU;QACb,OAAOA,CAAC,CAAC,wBAAwB,EAAE,qBAAqB,CAAC;MAC3D,KAAK,OAAO;MACZ;QACE,OAAOA,CAAC,CAAC,wBAAwB,EAAE,qBAAqB,CAAC;IAC7D;EACF,CAAC;EAED,MAAMmB,gBAAgB,GAAG,MAAAA,CAAA,KAAY;IAAA,IAAAC,eAAA;IACnC,IAAI,GAAAA,eAAA,GAACb,MAAM,CAACC,MAAM,cAAAY,eAAA,eAAbA,eAAA,CAAeX,QAAQ,GAAE;MAC5BL,QAAQ,CAACJ,CAAC,CAAC,uBAAuB,EAAE,wCAAwC,CAAC,CAAC;MAC9E;IACF;IAEAE,YAAY,CAAC,IAAI,CAAC;IAClBE,QAAQ,CAAC,IAAI,CAAC;IAEd,IAAI;MACF;MACAG,MAAM,CAACC,MAAM,CAACC,QAAQ,CAACY,EAAE,CAACC,UAAU,CAAC;QACnCC,SAAS,EAAEC,OAAO,CAACC,GAAG,CAACC,0BAA0B,IAAI,uBAAuB;QAC5EC,QAAQ,EAAEC,oBAAoB;QAC9BC,WAAW,EAAE,KAAK;QAClBC,qBAAqB,EAAE;MACzB,CAAC,CAAC;;MAEF;MACAvB,MAAM,CAACC,MAAM,CAACC,QAAQ,CAACY,EAAE,CAACU,MAAM,CAAEC,YAAY,IAAK;QACjD,IAAIA,YAAY,CAACC,cAAc,CAAC,CAAC,IAAID,YAAY,CAACE,eAAe,CAAC,CAAC,EAAE;UACnE;UACA3B,MAAM,CAACC,MAAM,CAACC,QAAQ,CAAC0B,MAAM,CAACC,eAAe,CAAC;YAC5Cb,SAAS,EAAEC,OAAO,CAACC,GAAG,CAACC,0BAA0B,IAAI,uBAAuB;YAC5EW,KAAK,EAAE,sBAAsB;YAC7BV,QAAQ,EAAEW;UACZ,CAAC,CAAC,CAACC,kBAAkB,CAAC,CAAC;QACzB;MACF,CAAC,CAAC;IAEJ,CAAC,CAAC,OAAOpC,KAAK,EAAE;MACdqC,OAAO,CAACrC,KAAK,CAAC,oBAAoB,EAAEA,KAAK,CAAC;MAC1CC,QAAQ,CAACD,KAAK,CAACsC,OAAO,CAAC;MACvBvC,YAAY,CAAC,KAAK,CAAC;MACnB,IAAIP,OAAO,EAAEA,OAAO,CAACQ,KAAK,CAAC;IAC7B;EACF,CAAC;EAED,MAAMyB,oBAAoB,GAAG,MAAOc,QAAQ,IAAK;IAC/C,IAAI;MACF,IAAIC,MAAM;MAEV,QAAQlD,IAAI;QACV,KAAK,MAAM;UACTkD,MAAM,GAAG,MAAMtD,WAAW,CAACuD,iBAAiB,CAACF,QAAQ,CAACG,UAAU,CAAC;UACjE;QACF,KAAK,UAAU;QACf,KAAK,OAAO;QACZ;UACEF,MAAM,GAAG,MAAMtD,WAAW,CAACyD,eAAe,CAACJ,QAAQ,CAACG,UAAU,CAAC;UAC/D;MACJ;MAEA,IAAIF,MAAM,CAACI,OAAO,EAAE;QAClB,IAAIrD,SAAS,EAAEA,SAAS,CAACiD,MAAM,CAAC;MAClC,CAAC,MAAM;QACLvC,QAAQ,CAACuC,MAAM,CAACxC,KAAK,CAAC;QACtB,IAAIR,OAAO,EAAEA,OAAO,CAAC,IAAIqD,KAAK,CAACL,MAAM,CAACxC,KAAK,CAAC,CAAC;MAC/C;IACF,CAAC,CAAC,OAAOA,KAAK,EAAE;MACdqC,OAAO,CAACrC,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;MAC9CC,QAAQ,CAACD,KAAK,CAACsC,OAAO,CAAC;MACvB,IAAI9C,OAAO,EAAEA,OAAO,CAACQ,KAAK,CAAC;IAC7B,CAAC,SAAS;MACRD,YAAY,CAAC,KAAK,CAAC;IACrB;EACF,CAAC;EAED,MAAMoC,yBAAyB,GAAG,MAAOI,QAAQ,IAAK;IACpD,IAAIA,QAAQ,CAACvC,KAAK,EAAE;MAClBC,QAAQ,CAACsC,QAAQ,CAACO,iBAAiB,IAAI,8BAA8B,CAAC;MACtE/C,YAAY,CAAC,KAAK,CAAC;MACnB;IACF;IAEA,IAAI;MACF,IAAIyC,MAAM;MAEV,QAAQlD,IAAI;QACV,KAAK,MAAM;UACTkD,MAAM,GAAG,MAAMtD,WAAW,CAACuD,iBAAiB,CAACF,QAAQ,CAACQ,YAAY,CAAC;UACnE;QACF,KAAK,UAAU;QACf,KAAK,OAAO;QACZ;UACEP,MAAM,GAAG,MAAMtD,WAAW,CAACyD,eAAe,CAACJ,QAAQ,CAACQ,YAAY,CAAC;UACjE;MACJ;MAEA,IAAIP,MAAM,CAACI,OAAO,EAAE;QAClB,IAAIrD,SAAS,EAAEA,SAAS,CAACiD,MAAM,CAAC;MAClC,CAAC,MAAM;QACLvC,QAAQ,CAACuC,MAAM,CAACxC,KAAK,CAAC;QACtB,IAAIR,OAAO,EAAEA,OAAO,CAAC,IAAIqD,KAAK,CAACL,MAAM,CAACxC,KAAK,CAAC,CAAC;MAC/C;IACF,CAAC,CAAC,OAAOA,KAAK,EAAE;MACdqC,OAAO,CAACrC,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;MACpDC,QAAQ,CAACD,KAAK,CAACsC,OAAO,CAAC;MACvB,IAAI9C,OAAO,EAAEA,OAAO,CAACQ,KAAK,CAAC;IAC7B,CAAC,SAAS;MACRD,YAAY,CAAC,KAAK,CAAC;IACrB;EACF,CAAC;;EAED;EACA,MAAMiD,oBAAoB,GAAG,MAAAA,CAAA,KAAY;IACvCjD,YAAY,CAAC,IAAI,CAAC;IAClBE,QAAQ,CAAC,IAAI,CAAC;IAEd,IAAI;MACF,MAAMuC,MAAM,GAAG,MAAMtD,WAAW,CAAC+D,gBAAgB,CAAC,CAAC;MAEnD,IAAIT,MAAM,CAACI,OAAO,EAAE;QAClB;QACAM,cAAc,CAACC,OAAO,CAAC,kBAAkB,EAAE7D,IAAI,CAAC;QAChDc,MAAM,CAACgD,QAAQ,CAACC,IAAI,GAAGb,MAAM,CAACc,GAAG;MACnC,CAAC,MAAM;QACLrD,QAAQ,CAACuC,MAAM,CAACxC,KAAK,CAAC;QACtBD,YAAY,CAAC,KAAK,CAAC;QACnB,IAAIP,OAAO,EAAEA,OAAO,CAAC,IAAIqD,KAAK,CAACL,MAAM,CAACxC,KAAK,CAAC,CAAC;MAC/C;IACF,CAAC,CAAC,OAAOA,KAAK,EAAE;MACdqC,OAAO,CAACrC,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;MAC9CC,QAAQ,CAACD,KAAK,CAACsC,OAAO,CAAC;MACvBvC,YAAY,CAAC,KAAK,CAAC;MACnB,IAAIP,OAAO,EAAEA,OAAO,CAACQ,KAAK,CAAC;IAC7B;EACF,CAAC;EAED,oBACEZ,OAAA;IAAKM,SAAS,EAAC,WAAW;IAAA6D,QAAA,gBACxBnE,OAAA,CAACP,MAAM;MACL2E,OAAO,EAAC,SAAS;MACjB9D,SAAS,EAAE,UAAUA,SAAS,EAAG;MACjC+D,OAAO,EAAEzC,gBAAiB;MAC1BvB,QAAQ,EAAEA,QAAQ,IAAIK,SAAU;MAChCH,IAAI,EAAEA,IAAK;MAAA4D,QAAA,GAEVzD,SAAS,gBACRV,OAAA,CAACJ,OAAO;QAACU,SAAS,EAAC;MAA2B;QAAAgE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,gBAEjDzE,OAAA;QAAKM,SAAS,EAAC,cAAc;QAACoE,OAAO,EAAC,WAAW;QAAAP,QAAA,gBAC/CnE,OAAA;UACE2E,IAAI,EAAC,cAAc;UACnBC,CAAC,EAAC;QAAyH;UAAAN,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5H,CAAC,eACFzE,OAAA;UACE2E,IAAI,EAAC,cAAc;UACnBC,CAAC,EAAC;QAAuI;UAAAN,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1I,CAAC,eACFzE,OAAA;UACE2E,IAAI,EAAC,cAAc;UACnBC,CAAC,EAAC;QAA+H;UAAAN,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClI,CAAC,eACFzE,OAAA;UACE2E,IAAI,EAAC,cAAc;UACnBC,CAAC,EAAC;QAAqI;UAAAN,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACxI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CACN,EACA9C,aAAa,CAAC,CAAC;IAAA;MAAA2C,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACV,CAAC,EAER7D,KAAK,iBACJZ,OAAA,CAACN,KAAK;MAAC0E,OAAO,EAAC,aAAa;MAAAD,QAAA,gBAC1BnE,OAAA,CAACH,WAAW;QAACS,SAAS,EAAC;MAAS;QAAAgE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACnCzE,OAAA,CAACL,gBAAgB;QAAAwE,QAAA,EAAEvD;MAAK;QAAA0D,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAmB,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACvC,CACR,EAGA7D,KAAK,iBACJZ,OAAA;MAAKM,SAAS,EAAC,aAAa;MAAA6D,QAAA,eAC1BnE,OAAA,CAACP,MAAM;QACL2E,OAAO,EAAC,MAAM;QACd7D,IAAI,EAAC,IAAI;QACT8D,OAAO,EAAET,oBAAqB;QAC9BvD,QAAQ,EAAEK,SAAU;QAAAyD,QAAA,EAEnB1D,CAAC,CAAC,yBAAyB,EAAE,qBAAqB;MAAC;QAAA6D,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9C;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAACjE,EAAA,CA5OIP,gBAAgB;EAAA,QAQNT,cAAc;AAAA;AAAAqF,EAAA,GARxB5E,gBAAgB;AA8OtB,eAAeA,gBAAgB;AAAC,IAAA4E,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
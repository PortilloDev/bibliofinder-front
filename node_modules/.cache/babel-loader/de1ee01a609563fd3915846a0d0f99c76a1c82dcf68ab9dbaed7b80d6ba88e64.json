{"ast":null,"code":"var _jsxFileName = \"/Applications/Projects/bibliofinder-front/src/components/books/BookCard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Card, CardContent, CardFooter } from '../ui/card';\nimport { Badge } from '../ui/badge';\nimport { Button } from '../ui/button';\nimport { DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuTrigger } from '../ui/dropdown-menu';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from '../ui/dialog';\nimport { Textarea } from '../ui/textarea';\nimport { Label } from '../ui/label';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '../ui/select';\nimport { Star, BookOpen, Plus, MoreVertical, Heart, Eye, Clock, CheckCircle } from 'lucide-react';\nimport { useAuth } from '../../context/AuthContext';\nimport { useBooks } from '../../context/BooksContext';\nimport { useCategories } from '../../context/CategoriesContext';\nimport imageCache from '../../utils/imageCache';\nimport { cn } from '../../lib/utils';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst BookCard = ({\n  book,\n  variant = 'search',\n  onAddToLibrary,\n  onViewDetails,\n  className\n}) => {\n  _s();\n  var _categories$find, _book$authors2;\n  const {\n    isAuthenticated\n  } = useAuth();\n  const {\n    addBookToLibrary,\n    userBooks,\n    moveBookToCategory,\n    updateBookNotes\n  } = useBooks();\n  const {\n    categories\n  } = useCategories();\n  const [imageUrl, setImageUrl] = useState(null);\n  const [isAddDialogOpen, setIsAddDialogOpen] = useState(false);\n  const [selectedCategory, setSelectedCategory] = useState('to-read');\n  const [notes, setNotes] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n\n  // Check if book is already in user library\n  const userBook = userBooks.find(ub => {\n    var _ub$authors, _book$authors;\n    return ub.id === `${book.source}_${book.id}` || ub.isbn && book.isbn && ub.isbn === book.isbn || ub.title === book.title && ((_ub$authors = ub.authors) === null || _ub$authors === void 0 ? void 0 : _ub$authors[0]) === ((_book$authors = book.authors) === null || _book$authors === void 0 ? void 0 : _book$authors[0]);\n  });\n  const isInLibrary = Boolean(userBook);\n\n  // Load cached image\n  useEffect(() => {\n    const loadImage = async () => {\n      const url = imageCache.getOptimizedImageUrl(book.imageLinks, 'small');\n      if (url) {\n        const cachedUrl = await imageCache.getCachedImage(url);\n        setImageUrl(cachedUrl);\n      } else {\n        setImageUrl(imageCache.getPlaceholderImage());\n      }\n    };\n    loadImage();\n  }, [book.imageLinks]);\n  const handleAddToLibrary = async () => {\n    if (!isAuthenticated) {\n      // Redirect to login or show auth modal\n      return;\n    }\n    setIsLoading(true);\n    try {\n      const result = await addBookToLibrary(book, selectedCategory, notes);\n      if (result.success) {\n        setIsAddDialogOpen(false);\n        setNotes('');\n        if (onAddToLibrary) {\n          onAddToLibrary(book);\n        }\n      }\n    } catch (error) {\n      console.error('Error adding book to library:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleMoveToCategory = async newCategoryId => {\n    if (userBook) {\n      await moveBookToCategory(userBook.id, newCategoryId);\n    }\n  };\n  const getCategoryIcon = categoryId => {\n    const category = categories.find(c => c.id === categoryId);\n    return (category === null || category === void 0 ? void 0 : category.icon) || 'ðŸ“š';\n  };\n  const getCategoryColor = categoryId => {\n    switch (categoryId) {\n      case 'reading':\n        return 'bg-green-500';\n      case 'read':\n        return 'bg-purple-500';\n      case 'favorites':\n        return 'bg-red-500';\n      case 'wishlist':\n        return 'bg-yellow-500';\n      default:\n        return 'bg-blue-500';\n    }\n  };\n  const renderStars = rating => {\n    const stars = [];\n    const fullStars = Math.floor(rating);\n    const hasHalfStar = rating % 1 !== 0;\n    for (let i = 0; i < 5; i++) {\n      if (i < fullStars) {\n        stars.push(/*#__PURE__*/_jsxDEV(Star, {\n          className: \"h-3 w-3 fill-yellow-400 text-yellow-400\"\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 20\n        }, this));\n      } else if (i === fullStars && hasHalfStar) {\n        stars.push(/*#__PURE__*/_jsxDEV(Star, {\n          className: \"h-3 w-3 fill-yellow-400/50 text-yellow-400\"\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 20\n        }, this));\n      } else {\n        stars.push(/*#__PURE__*/_jsxDEV(Star, {\n          className: \"h-3 w-3 text-gray-300\"\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 20\n        }, this));\n      }\n    }\n    return stars;\n  };\n  return /*#__PURE__*/_jsxDEV(Card, {\n    className: cn(\"group hover:shadow-lg transition-all duration-200\", className),\n    children: [/*#__PURE__*/_jsxDEV(CardContent, {\n      className: \"p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex space-x-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative flex-shrink-0\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-16 h-24 md:w-20 md:h-28 rounded-md overflow-hidden bg-muted\",\n            children: imageUrl && /*#__PURE__*/_jsxDEV(\"img\", {\n              src: imageUrl,\n              alt: book.title,\n              className: \"w-full h-full object-cover\",\n              loading: \"lazy\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this), isInLibrary && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: cn(\"absolute -top-1 -right-1 w-4 h-4 rounded-full border-2 border-white\", getCategoryColor(userBook.categoryId)),\n            title: `En ${((_categories$find = categories.find(c => c.id === userBook.categoryId)) === null || _categories$find === void 0 ? void 0 : _categories$find.name) || 'Biblioteca'}`,\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-white text-xs flex items-center justify-center w-full h-full\",\n              children: getCategoryIcon(userBook.categoryId)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 min-w-0\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-start justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1 min-w-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-semibold text-sm md:text-base line-clamp-2 mb-1\",\n                children: book.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 17\n              }, this), book.authors && book.authors.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-muted-foreground mb-2\",\n                children: book.authors.join(', ')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 19\n              }, this), book.averageRating > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-2 mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-1\",\n                  children: renderStars(book.averageRating)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs text-muted-foreground\",\n                  children: [\"(\", book.averageRating, \") \\xB7 \", book.ratingsCount || 0, \" rese\\xF1as\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 19\n              }, this), book.categories && book.categories.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-wrap gap-1 mb-2\",\n                children: [book.categories.slice(0, 2).map((category, index) => /*#__PURE__*/_jsxDEV(Badge, {\n                  variant: \"secondary\",\n                  className: \"text-xs\",\n                  children: category\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 23\n                }, this)), book.categories.length > 2 && /*#__PURE__*/_jsxDEV(Badge, {\n                  variant: \"outline\",\n                  className: \"text-xs\",\n                  children: [\"+\", book.categories.length - 2]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 19\n              }, this), book.description && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-muted-foreground line-clamp-2 mb-2\",\n                children: book.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-3 text-xs text-muted-foreground\",\n                children: [book.publishedDate && /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: new Date(book.publishedDate).getFullYear()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 21\n                }, this), book.pageCount > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [book.pageCount, \" p\\xE1gs.\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 21\n                }, this), book.language && /*#__PURE__*/_jsxDEV(Badge, {\n                  variant: \"outline\",\n                  className: \"text-xs\",\n                  children: book.language.toUpperCase()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 15\n            }, this), isAuthenticated && /*#__PURE__*/_jsxDEV(DropdownMenu, {\n              children: [/*#__PURE__*/_jsxDEV(DropdownMenuTrigger, {\n                asChild: true,\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"ghost\",\n                  size: \"icon\",\n                  className: \"h-8 w-8\",\n                  children: /*#__PURE__*/_jsxDEV(MoreVertical, {\n                    className: \"h-4 w-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 216,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(DropdownMenuContent, {\n                align: \"end\",\n                children: [!isInLibrary ? /*#__PURE__*/_jsxDEV(Dialog, {\n                  open: isAddDialogOpen,\n                  onOpenChange: setIsAddDialogOpen,\n                  children: /*#__PURE__*/_jsxDEV(DialogTrigger, {\n                    asChild: true,\n                    children: /*#__PURE__*/_jsxDEV(DropdownMenuItem, {\n                      onSelect: e => e.preventDefault(),\n                      children: [/*#__PURE__*/_jsxDEV(Plus, {\n                        className: \"mr-2 h-4 w-4\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 224,\n                        columnNumber: 29\n                      }, this), \"A\\xF1adir a Biblioteca\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 223,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 222,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(DropdownMenuItem, {\n                    onClick: () => handleMoveToCategory('reading'),\n                    children: [/*#__PURE__*/_jsxDEV(BookOpen, {\n                      className: \"mr-2 h-4 w-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 232,\n                      columnNumber: 27\n                    }, this), \"Marcar como Leyendo\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 231,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(DropdownMenuItem, {\n                    onClick: () => handleMoveToCategory('read'),\n                    children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                      className: \"mr-2 h-4 w-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 236,\n                      columnNumber: 27\n                    }, this), \"Marcar como Le\\xEDdo\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 235,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(DropdownMenuItem, {\n                    onClick: () => handleMoveToCategory('favorites'),\n                    children: [/*#__PURE__*/_jsxDEV(Heart, {\n                      className: \"mr-2 h-4 w-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 240,\n                      columnNumber: 27\n                    }, this), \"A\\xF1adir a Favoritos\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 239,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true), /*#__PURE__*/_jsxDEV(DropdownMenuItem, {\n                  onClick: () => onViewDetails && onViewDetails(book),\n                  children: [/*#__PURE__*/_jsxDEV(Eye, {\n                    className: \"mr-2 h-4 w-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 247,\n                    columnNumber: 23\n                  }, this), \"Ver Detalles\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), !isInLibrary && isAuthenticated && variant === 'search' && /*#__PURE__*/_jsxDEV(CardFooter, {\n      className: \"p-3 pt-0\",\n      children: /*#__PURE__*/_jsxDEV(Dialog, {\n        open: isAddDialogOpen,\n        onOpenChange: setIsAddDialogOpen,\n        children: /*#__PURE__*/_jsxDEV(DialogTrigger, {\n          asChild: true,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            size: \"sm\",\n            className: \"w-full\",\n            children: [/*#__PURE__*/_jsxDEV(Plus, {\n              className: \"mr-2 h-4 w-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 17\n            }, this), \"A\\xF1adir a Biblioteca\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: isAddDialogOpen,\n      onOpenChange: setIsAddDialogOpen,\n      children: /*#__PURE__*/_jsxDEV(DialogContent, {\n        className: \"sm:max-w-md\",\n        children: [/*#__PURE__*/_jsxDEV(DialogHeader, {\n          children: /*#__PURE__*/_jsxDEV(DialogTitle, {\n            children: \"A\\xF1adir a Biblioteca\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex space-x-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-12 h-18 rounded bg-muted flex-shrink-0\",\n              children: imageUrl && /*#__PURE__*/_jsxDEV(\"img\", {\n                src: imageUrl,\n                alt: book.title,\n                className: \"w-full h-full object-cover rounded\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-semibold text-sm\",\n                children: book.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-muted-foreground\",\n                children: (_book$authors2 = book.authors) === null || _book$authors2 === void 0 ? void 0 : _book$authors2.join(', ')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2\",\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              htmlFor: \"category\",\n              children: \"Categor\\xEDa\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              value: selectedCategory,\n              onValueChange: setSelectedCategory,\n              children: [/*#__PURE__*/_jsxDEV(SelectTrigger, {\n                children: /*#__PURE__*/_jsxDEV(SelectValue, {\n                  placeholder: \"Seleccionar categor\\xEDa\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 302,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(SelectContent, {\n                children: categories.map(category => /*#__PURE__*/_jsxDEV(SelectItem, {\n                  value: category.id,\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"flex items-center space-x-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      children: category.icon\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 308,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: category.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 309,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 307,\n                    columnNumber: 23\n                  }, this)\n                }, category.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 306,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2\",\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              htmlFor: \"notes\",\n              children: \"Notas (opcional)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Textarea, {\n              id: \"notes\",\n              value: notes,\n              onChange: e => setNotes(e.target.value),\n              placeholder: \"A\\xF1ade tus notas sobre este libro...\",\n              rows: 3\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outline\",\n              onClick: () => setIsAddDialogOpen(false),\n              children: \"Cancelar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: handleAddToLibrary,\n              disabled: isLoading,\n              children: isLoading ? 'AÃ±adiendo...' : 'AÃ±adir'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 114,\n    columnNumber: 5\n  }, this);\n};\n_s(BookCard, \"uMsoylI1E/xbBYYKILDzmcot/NI=\", false, function () {\n  return [useAuth, useBooks, useCategories];\n});\n_c = BookCard;\nexport default BookCard;\nvar _c;\n$RefreshReg$(_c, \"BookCard\");","map":{"version":3,"names":["React","useState","useEffect","Card","CardContent","CardFooter","Badge","Button","DropdownMenu","DropdownMenuContent","DropdownMenuItem","DropdownMenuTrigger","Dialog","DialogContent","DialogHeader","DialogTitle","DialogTrigger","Textarea","Label","Select","SelectContent","SelectItem","SelectTrigger","SelectValue","Star","BookOpen","Plus","MoreVertical","Heart","Eye","Clock","CheckCircle","useAuth","useBooks","useCategories","imageCache","cn","jsxDEV","_jsxDEV","Fragment","_Fragment","BookCard","book","variant","onAddToLibrary","onViewDetails","className","_s","_categories$find","_book$authors2","isAuthenticated","addBookToLibrary","userBooks","moveBookToCategory","updateBookNotes","categories","imageUrl","setImageUrl","isAddDialogOpen","setIsAddDialogOpen","selectedCategory","setSelectedCategory","notes","setNotes","isLoading","setIsLoading","userBook","find","ub","_ub$authors","_book$authors","id","source","isbn","title","authors","isInLibrary","Boolean","loadImage","url","getOptimizedImageUrl","imageLinks","cachedUrl","getCachedImage","getPlaceholderImage","handleAddToLibrary","result","success","error","console","handleMoveToCategory","newCategoryId","getCategoryIcon","categoryId","category","c","icon","getCategoryColor","renderStars","rating","stars","fullStars","Math","floor","hasHalfStar","i","push","fileName","_jsxFileName","lineNumber","columnNumber","children","src","alt","loading","name","length","join","averageRating","ratingsCount","slice","map","index","description","publishedDate","Date","getFullYear","pageCount","language","toUpperCase","asChild","size","align","open","onOpenChange","onSelect","e","preventDefault","onClick","htmlFor","value","onValueChange","placeholder","onChange","target","rows","disabled","_c","$RefreshReg$"],"sources":["/Applications/Projects/bibliofinder-front/src/components/books/BookCard.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Card, CardContent, CardFooter } from '../ui/card';\nimport { Badge } from '../ui/badge';\nimport { Button } from '../ui/button';\nimport { DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuTrigger } from '../ui/dropdown-menu';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from '../ui/dialog';\nimport { Textarea } from '../ui/textarea';\nimport { Label } from '../ui/label';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '../ui/select';\nimport { Star, BookOpen, Plus, MoreVertical, Heart, Eye, Clock, CheckCircle } from 'lucide-react';\nimport { useAuth } from '../../context/AuthContext';\nimport { useBooks } from '../../context/BooksContext';\nimport { useCategories } from '../../context/CategoriesContext';\nimport imageCache from '../../utils/imageCache';\nimport { cn } from '../../lib/utils';\n\nconst BookCard = ({ book, variant = 'search', onAddToLibrary, onViewDetails, className }) => {\n  const { isAuthenticated } = useAuth();\n  const { addBookToLibrary, userBooks, moveBookToCategory, updateBookNotes } = useBooks();\n  const { categories } = useCategories();\n  const [imageUrl, setImageUrl] = useState(null);\n  const [isAddDialogOpen, setIsAddDialogOpen] = useState(false);\n  const [selectedCategory, setSelectedCategory] = useState('to-read');\n  const [notes, setNotes] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n\n  // Check if book is already in user library\n  const userBook = userBooks.find(ub => \n    ub.id === `${book.source}_${book.id}` || \n    (ub.isbn && book.isbn && ub.isbn === book.isbn) ||\n    (ub.title === book.title && ub.authors?.[0] === book.authors?.[0])\n  );\n\n  const isInLibrary = Boolean(userBook);\n\n  // Load cached image\n  useEffect(() => {\n    const loadImage = async () => {\n      const url = imageCache.getOptimizedImageUrl(book.imageLinks, 'small');\n      if (url) {\n        const cachedUrl = await imageCache.getCachedImage(url);\n        setImageUrl(cachedUrl);\n      } else {\n        setImageUrl(imageCache.getPlaceholderImage());\n      }\n    };\n\n    loadImage();\n  }, [book.imageLinks]);\n\n  const handleAddToLibrary = async () => {\n    if (!isAuthenticated) {\n      // Redirect to login or show auth modal\n      return;\n    }\n\n    setIsLoading(true);\n    try {\n      const result = await addBookToLibrary(book, selectedCategory, notes);\n      if (result.success) {\n        setIsAddDialogOpen(false);\n        setNotes('');\n        if (onAddToLibrary) {\n          onAddToLibrary(book);\n        }\n      }\n    } catch (error) {\n      console.error('Error adding book to library:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleMoveToCategory = async (newCategoryId) => {\n    if (userBook) {\n      await moveBookToCategory(userBook.id, newCategoryId);\n    }\n  };\n\n  const getCategoryIcon = (categoryId) => {\n    const category = categories.find(c => c.id === categoryId);\n    return category?.icon || 'ðŸ“š';\n  };\n\n  const getCategoryColor = (categoryId) => {\n    switch (categoryId) {\n      case 'reading': return 'bg-green-500';\n      case 'read': return 'bg-purple-500';\n      case 'favorites': return 'bg-red-500';\n      case 'wishlist': return 'bg-yellow-500';\n      default: return 'bg-blue-500';\n    }\n  };\n\n  const renderStars = (rating) => {\n    const stars = [];\n    const fullStars = Math.floor(rating);\n    const hasHalfStar = rating % 1 !== 0;\n\n    for (let i = 0; i < 5; i++) {\n      if (i < fullStars) {\n        stars.push(<Star key={i} className=\"h-3 w-3 fill-yellow-400 text-yellow-400\" />);\n      } else if (i === fullStars && hasHalfStar) {\n        stars.push(<Star key={i} className=\"h-3 w-3 fill-yellow-400/50 text-yellow-400\" />);\n      } else {\n        stars.push(<Star key={i} className=\"h-3 w-3 text-gray-300\" />);\n      }\n    }\n\n    return stars;\n  };\n\n  return (\n    <Card className={cn(\"group hover:shadow-lg transition-all duration-200\", className)}>\n      <CardContent className=\"p-4\">\n        <div className=\"flex space-x-3\">\n          {/* Book Cover */}\n          <div className=\"relative flex-shrink-0\">\n            <div className=\"w-16 h-24 md:w-20 md:h-28 rounded-md overflow-hidden bg-muted\">\n              {imageUrl && (\n                <img\n                  src={imageUrl}\n                  alt={book.title}\n                  className=\"w-full h-full object-cover\"\n                  loading=\"lazy\"\n                />\n              )}\n            </div>\n            \n            {/* Library Status Indicator */}\n            {isInLibrary && (\n              <div \n                className={cn(\n                  \"absolute -top-1 -right-1 w-4 h-4 rounded-full border-2 border-white\",\n                  getCategoryColor(userBook.categoryId)\n                )}\n                title={`En ${categories.find(c => c.id === userBook.categoryId)?.name || 'Biblioteca'}`}\n              >\n                <span className=\"text-white text-xs flex items-center justify-center w-full h-full\">\n                  {getCategoryIcon(userBook.categoryId)}\n                </span>\n              </div>\n            )}\n          </div>\n\n          {/* Book Info */}\n          <div className=\"flex-1 min-w-0\">\n            <div className=\"flex items-start justify-between\">\n              <div className=\"flex-1 min-w-0\">\n                <h3 className=\"font-semibold text-sm md:text-base line-clamp-2 mb-1\">\n                  {book.title}\n                </h3>\n                \n                {book.authors && book.authors.length > 0 && (\n                  <p className=\"text-sm text-muted-foreground mb-2\">\n                    {book.authors.join(', ')}\n                  </p>\n                )}\n\n                {/* Rating */}\n                {book.averageRating > 0 && (\n                  <div className=\"flex items-center space-x-2 mb-2\">\n                    <div className=\"flex items-center space-x-1\">\n                      {renderStars(book.averageRating)}\n                    </div>\n                    <span className=\"text-xs text-muted-foreground\">\n                      ({book.averageRating}) Â· {book.ratingsCount || 0} reseÃ±as\n                    </span>\n                  </div>\n                )}\n\n                {/* Categories */}\n                {book.categories && book.categories.length > 0 && (\n                  <div className=\"flex flex-wrap gap-1 mb-2\">\n                    {book.categories.slice(0, 2).map((category, index) => (\n                      <Badge key={index} variant=\"secondary\" className=\"text-xs\">\n                        {category}\n                      </Badge>\n                    ))}\n                    {book.categories.length > 2 && (\n                      <Badge variant=\"outline\" className=\"text-xs\">\n                        +{book.categories.length - 2}\n                      </Badge>\n                    )}\n                  </div>\n                )}\n\n                {/* Description */}\n                {book.description && (\n                  <p className=\"text-xs text-muted-foreground line-clamp-2 mb-2\">\n                    {book.description}\n                  </p>\n                )}\n\n                {/* Metadata */}\n                <div className=\"flex items-center space-x-3 text-xs text-muted-foreground\">\n                  {book.publishedDate && (\n                    <span>{new Date(book.publishedDate).getFullYear()}</span>\n                  )}\n                  {book.pageCount > 0 && (\n                    <span>{book.pageCount} pÃ¡gs.</span>\n                  )}\n                  {book.language && (\n                    <Badge variant=\"outline\" className=\"text-xs\">\n                      {book.language.toUpperCase()}\n                    </Badge>\n                  )}\n                </div>\n              </div>\n\n              {/* Action Menu */}\n              {isAuthenticated && (\n                <DropdownMenu>\n                  <DropdownMenuTrigger asChild>\n                    <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8\">\n                      <MoreVertical className=\"h-4 w-4\" />\n                    </Button>\n                  </DropdownMenuTrigger>\n                  <DropdownMenuContent align=\"end\">\n                    {!isInLibrary ? (\n                      <Dialog open={isAddDialogOpen} onOpenChange={setIsAddDialogOpen}>\n                        <DialogTrigger asChild>\n                          <DropdownMenuItem onSelect={(e) => e.preventDefault()}>\n                            <Plus className=\"mr-2 h-4 w-4\" />\n                            AÃ±adir a Biblioteca\n                          </DropdownMenuItem>\n                        </DialogTrigger>\n                      </Dialog>\n                    ) : (\n                      <>\n                        <DropdownMenuItem onClick={() => handleMoveToCategory('reading')}>\n                          <BookOpen className=\"mr-2 h-4 w-4\" />\n                          Marcar como Leyendo\n                        </DropdownMenuItem>\n                        <DropdownMenuItem onClick={() => handleMoveToCategory('read')}>\n                          <CheckCircle className=\"mr-2 h-4 w-4\" />\n                          Marcar como LeÃ­do\n                        </DropdownMenuItem>\n                        <DropdownMenuItem onClick={() => handleMoveToCategory('favorites')}>\n                          <Heart className=\"mr-2 h-4 w-4\" />\n                          AÃ±adir a Favoritos\n                        </DropdownMenuItem>\n                      </>\n                    )}\n                    \n                    <DropdownMenuItem onClick={() => onViewDetails && onViewDetails(book)}>\n                      <Eye className=\"mr-2 h-4 w-4\" />\n                      Ver Detalles\n                    </DropdownMenuItem>\n                  </DropdownMenuContent>\n                </DropdownMenu>\n              )}\n            </div>\n          </div>\n        </div>\n      </CardContent>\n\n      {/* Quick Actions Footer for non-library books */}\n      {!isInLibrary && isAuthenticated && variant === 'search' && (\n        <CardFooter className=\"p-3 pt-0\">\n          <Dialog open={isAddDialogOpen} onOpenChange={setIsAddDialogOpen}>\n            <DialogTrigger asChild>\n              <Button size=\"sm\" className=\"w-full\">\n                <Plus className=\"mr-2 h-4 w-4\" />\n                AÃ±adir a Biblioteca\n              </Button>\n            </DialogTrigger>\n          </Dialog>\n        </CardFooter>\n      )}\n\n      {/* Add to Library Dialog */}\n      <Dialog open={isAddDialogOpen} onOpenChange={setIsAddDialogOpen}>\n        <DialogContent className=\"sm:max-w-md\">\n          <DialogHeader>\n            <DialogTitle>AÃ±adir a Biblioteca</DialogTitle>\n          </DialogHeader>\n          \n          <div className=\"space-y-4\">\n            <div className=\"flex space-x-3\">\n              <div className=\"w-12 h-18 rounded bg-muted flex-shrink-0\">\n                {imageUrl && (\n                  <img\n                    src={imageUrl}\n                    alt={book.title}\n                    className=\"w-full h-full object-cover rounded\"\n                  />\n                )}\n              </div>\n              <div>\n                <h4 className=\"font-semibold text-sm\">{book.title}</h4>\n                <p className=\"text-sm text-muted-foreground\">\n                  {book.authors?.join(', ')}\n                </p>\n              </div>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"category\">CategorÃ­a</Label>\n              <Select value={selectedCategory} onValueChange={setSelectedCategory}>\n                <SelectTrigger>\n                  <SelectValue placeholder=\"Seleccionar categorÃ­a\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {categories.map((category) => (\n                    <SelectItem key={category.id} value={category.id}>\n                      <span className=\"flex items-center space-x-2\">\n                        <span>{category.icon}</span>\n                        <span>{category.name}</span>\n                      </span>\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"notes\">Notas (opcional)</Label>\n              <Textarea\n                id=\"notes\"\n                value={notes}\n                onChange={(e) => setNotes(e.target.value)}\n                placeholder=\"AÃ±ade tus notas sobre este libro...\"\n                rows={3}\n              />\n            </div>\n\n            <div className=\"flex justify-end space-x-2\">\n              <Button variant=\"outline\" onClick={() => setIsAddDialogOpen(false)}>\n                Cancelar\n              </Button>\n              <Button onClick={handleAddToLibrary} disabled={isLoading}>\n                {isLoading ? 'AÃ±adiendo...' : 'AÃ±adir'}\n              </Button>\n            </div>\n          </div>\n        </DialogContent>\n      </Dialog>\n    </Card>\n  );\n};\n\nexport default BookCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}